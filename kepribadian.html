<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InvestMaster Pro - Analisis Profil Risiko</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap');
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #f8fafc; }
        .option-btn.selected { border-color: #4f46e5; background-color: #f5f3ff; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fadeIn { animation: fadeIn 0.4s ease-out forwards; }
    </style>
</head>
<body class="text-slate-900">

    <div id="app" class="max-w-md mx-auto min-h-screen bg-white shadow-2xl flex flex-col relative overflow-hidden">
        
        <!-- Header -->
        <header class="p-6 border-b border-slate-100 flex justify-between items-center bg-white sticky top-0 z-50">
            <div>
                <h1 class="text-xl font-800 tracking-tight text-indigo-600">InvestMaster <span class="text-slate-900">Pro</span></h1>
                <p id="header-subtitle" class="text-[10px] font-bold text-slate-400 uppercase tracking-widest">Setup Modal</p>
            </div>
            <div id="step-indicator" class="hidden text-xs font-bold text-slate-400">
                <span id="current-q">1</span>/10
            </div>
        </header>

        <main class="flex-grow p-6 flex flex-col">
            
            <!-- Step 1: Input Modal -->
            <div id="setup-screen" class="animate-fadeIn">
                <div class="mb-8 text-center">
                    <div class="w-20 h-20 bg-indigo-100 rounded-3xl flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-coins text-3xl text-indigo-600"></i>
                    </div>
                    <h2 class="text-2xl font-bold mb-2">Berapa modalmu?</h2>
                    <p class="text-slate-500 text-sm">Masukkan jumlah uang yang ingin kamu analisis.</p>
                </div>

                <div class="relative mb-8">
                    <span class="absolute left-4 top-1/2 -translate-y-1/2 font-bold text-slate-400 text-lg">Rp</span>
                    <input type="number" id="input-modal" placeholder="Contoh: 400000" 
                           class="w-full pl-12 pr-4 py-4 bg-slate-50 border-2 border-slate-100 rounded-2xl text-xl font-bold focus:border-indigo-500 focus:outline-none transition-all">
                </div>

                <button onclick="validateAndStart()" class="w-full bg-indigo-600 text-white font-bold py-4 rounded-2xl shadow-lg hover:bg-indigo-700 active:scale-95 transition">
                    Mulai Tes (10 Pertanyaan) <i class="fas fa-chevron-right ml-2"></i>
                </button>
            </div>

            <!-- Step 2: Quiz -->
            <div id="quiz-screen" class="hidden animate-fadeIn">
                <div class="w-full bg-slate-100 h-1.5 rounded-full mb-8 overflow-hidden">
                    <div id="bar" class="bg-indigo-600 h-full transition-all duration-300" style="width: 10%"></div>
                </div>

                <h2 id="q-text" class="text-xl font-bold text-slate-800 mb-8 leading-snug"></h2>
                
                <div id="options" class="space-y-4"></div>
            </div>

            <!-- Step 3: Results -->
            <div id="result-screen" class="hidden animate-fadeIn pb-12">
                <div class="text-center mb-8">
                    <div id="res-icon" class="text-6xl mb-4"></div>
                    <p class="text-[10px] font-black text-indigo-500 uppercase tracking-widest mb-1">Analisis Profil Selesai</p>
                    <h2 id="res-title" class="text-3xl font-black text-slate-900 mb-4"></h2>
                    <div id="res-tag" class="inline-block px-4 py-1 rounded-full bg-slate-100 text-slate-600 text-xs font-bold"></div>
                </div>

                <div class="space-y-6">
                    <div class="bg-slate-50 p-5 rounded-2xl border border-slate-100">
                        <h4 class="text-xs font-black text-slate-400 uppercase mb-2">Analisis Karakter</h4>
                        <p id="res-desc" class="text-sm text-slate-600 leading-relaxed"></p>
                    </div>

                    <div>
                        <h4 class="text-xs font-black text-slate-400 uppercase mb-4">Rekomendasi Alokasi (<span id="final-modal"></span>)</h4>
                        <div id="allocations" class="space-y-5"></div>
                    </div>

                    <div id="meme-alert" class="hidden p-4 rounded-2xl bg-orange-100 border border-orange-200">
                        <h4 class="text-xs font-black text-orange-700 uppercase mb-1">ðŸ”¥ Rekomendasi Spekulasi</h4>
                        <p class="text-xs text-orange-600">Berdasarkan keberanianmu, kamu bisa alokasikan 5-10% ke Meme Coins (PEPE/DOGE/BONK) untuk potensi jackpot.</p>
                    </div>

                    <div class="p-5 rounded-2xl bg-indigo-600 text-white">
                        <h4 class="text-xs font-black opacity-70 uppercase mb-3">Strategi Eksekusi</h4>
                        <p id="res-short" class="text-sm font-medium leading-relaxed"></p>
                    </div>
                </div>

                <button onclick="location.reload()" class="w-full mt-10 py-4 border-2 border-slate-100 text-slate-400 font-bold rounded-2xl hover:bg-slate-50">
                    Coba Lagi dengan Jawaban Berbeda
                </button>
            </div>

        </main>
    </div>

    <script>
        let modalAmount = 0;
        let currentIdx = 0;
        let totalScore = 0;

        // Ditambah bobot skor yang lebih bervariasi agar hasil tidak menumpuk di tengah
        const questions = [
            { q: "Apa tujuan utamamu?", options: [{t: "Uang harus aman (Anti Rugi)", s: 1}, {t: "Tumbuh pelan tapi pasti", s: 3}, {t: "Ingin kaya mendadak", s: 6}] },
            { q: "Aset turun 40%, apa tindakanmu?", options: [{t: "Cut loss (Jual karena takut)", s: 1}, {t: "Biarkan saja", s: 3}, {t: "Beli lagi di harga bawah", s: 6}] },
            { q: "Berapa lama uang ini 'nganggur'?", options: [{t: "Besok lusa butuh", s: 1}, {t: "Beberapa bulan", s: 3}, {t: "Tahunan", s: 6}] },
            { q: "Pernah dengar koin 'micin' atau 'meme'?", options: [{t: "Tidak, itu judi", s: 1}, {t: "Pernah, mau coba dikit", s: 4}, {t: "Sering main di sana", s: 6}] },
            { q: "Uang 400rb ini bagi kamu adalah...", options: [{t: "Uang makan seminggu", s: 1}, {t: "Uang tabungan bulanan", s: 3}, {t: "Uang jajan/nganggur", s: 6}] },
            { q: "Pilih keuntungan yang kamu mau:", options: [{t: "5% tapi pasti", s: 1}, {t: "20% tapi naik turun", s: 3}, {t: "100% atau nol", s: 6}] },
            { q: "Bagaimana pengetahuanmu soal Grafik?", options: [{t: "Nggak paham sama sekali", s: 1}, {t: "Tahu dikit pola naik turun", s: 4}, {t: "Pro Trader", s: 6}] },
            { q: "Jika teman pamer profit 1000%?", options: [{t: "Masa bodoh", s: 1}, {t: "Tanya caranya", s: 4}, {t: "Langsung FOMO pengen beli", s: 6}] },
            { q: "Sifat aslimu dalam mengambil keputusan?", options: [{t: "Sangat hati-hati", s: 1}, {t: "Pikirkan matang dulu", s: 3}, {t: "Hajar saja dulu!", s: 6}] },
            { q: "Aset mana yang paling kamu percaya?", options: [{t: "Emas Batangan", s: 1}, {t: "Bitcoin", s: 4}, {t: "Koin baru rilis", s: 6}] }
        ];

        function validateAndStart() {
            const input = document.getElementById('input-modal');
            modalAmount = parseInt(input.value);
            if (!modalAmount || modalAmount < 1000) {
                alert("Masukkan modal yang valid"); return;
            }
            document.getElementById('setup-screen').classList.add('hidden');
            document.getElementById('quiz-screen').classList.remove('hidden');
            document.getElementById('step-indicator').classList.remove('hidden');
            loadQuestion();
        }

        function loadQuestion() {
            const q = questions[currentIdx];
            document.getElementById('current-q').innerText = currentIdx + 1;
            document.getElementById('q-text').innerText = q.q;
            document.getElementById('bar').style.width = `${((currentIdx + 1) / questions.length) * 100}%`;
            
            const optCont = document.getElementById('options');
            optCont.innerHTML = '';
            
            q.options.forEach(o => {
                const btn = document.createElement('button');
                btn.className = "w-full p-4 border-2 border-slate-100 rounded-2xl text-left font-semibold hover:border-indigo-500 hover:bg-indigo-50 transition-all";
                btn.innerText = o.t;
                btn.onclick = () => {
                    totalScore += o.s;
                    if (currentIdx < questions.length - 1) {
                        currentIdx++;
                        loadQuestion();
                    } else {
                        calculateResult();
                    }
                };
                optCont.appendChild(btn);
            });
        }

        function calculateResult() {
            document.getElementById('quiz-screen').classList.add('hidden');
            document.getElementById('result-screen').classList.remove('hidden');
            document.getElementById('final-modal').innerText = new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(modalAmount);

            let res = {};
            // Threshold baru agar lebih variatif
            if (totalScore <= 20) {
                res = {
                    title: "The Guardian", icon: "ðŸ›¡ï¸", tag: "Konservatif",
                    desc: "Kamu tipe orang yang sangat menghargai keamanan modal. Kamu lebih baik untung sedikit asal bisa tidur nyenyak.",
                    short: "Beli Emas Fisik atau Digital. Jangan tergiur koin viral, fokus pada tabungan yang pasti-pasti saja.",
                    alloc: [{n: "Emas Digital", p: 0.8, c: "bg-yellow-500"}, {n: "Reksadana", p: 0.2, c: "bg-blue-400"}]
                };
            } else if (totalScore <= 45) {
                res = {
                    title: "The Navigator", icon: "ðŸ§­", tag: "Moderat",
                    desc: "Kamu berani ambil risiko tapi tetap butuh pegangan. Kamu suka profit besar tapi nggak mau 'boncos' sendirian.",
                    short: "Gunakan strategi 50:50. Emas untuk keamanan, Bitcoin untuk pertumbuhan. Ambil profit saat Bitcoin naik.",
                    alloc: [{n: "Bitcoin (BTC)", p: 0.5, c: "bg-orange-500"}, {n: "Emas Digital", p: 0.5, c: "bg-yellow-500"}]
                };
            } else {
                res = {
                    title: "The Moon Hunter", icon: "ðŸš€", tag: "Agresif",
                    desc: "Kamu adalah pemburu jackpot. Kamu siap kehilangan seluruh modal 400rb demi peluang jadi 4 juta.",
                    short: "Masuk ke koin spekulasi tinggi. Pantau komunitas di Twitter/Telegram. Jangan lupa amankan modal awal jika sudah naik.",
                    alloc: [{n: "Meme Coins", p: 0.4, c: "bg-red-500"}, {n: "Bitcoin", p: 0.3, c: "bg-orange-600"}, {n: "Altcoins", p: 0.3, c: "bg-indigo-500"}]
                };
                document.getElementById('meme-alert').classList.remove('hidden');
            }

            document.getElementById('res-title').innerText = res.title;
            document.getElementById('res-icon').innerText = res.icon;
            document.getElementById('res-tag').innerText = res.tag;
            document.getElementById('res-desc').innerText = res.desc;
            document.getElementById('res-short').innerText = res.short;

            const allocCont = document.getElementById('allocations');
            allocCont.innerHTML = '';
            res.alloc.forEach(a => {
                const amt = modalAmount * a.p;
                allocCont.innerHTML += `
                    <div>
                        <div class="flex justify-between text-sm mb-1 font-bold">
                            <span>${a.n}</span>
                            <span>${new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(amt)}</span>
                        </div>
                        <div class="w-full bg-slate-100 h-2.5 rounded-full overflow-hidden">
                            <div class="${a.c} h-full" style="width: ${a.p*100}%"></div>
                        </div>
                    </div>
                `;
            });
        }
    </script>
</body>
</html>

